<h1>AnnuaireSante's Public Extraction Data Browser.</h1>
<h3>Data last updated on : <%= @version[6..7] %>/<%= @version[4..5] %>/<%= @version[0..3] %> - <%= @version[-4..-3] %>h<%= @version[-2..-1] %></h3>

<h2>Browsing the RPPS ids</h2>
<code>/entries</code> will return the first 50 entries.<br>
<code>/entries?page=1</code> will return the next 50.<br>
<code>/entries?page=2</code> ...<br>

<h2>Getting a list of all pharmacians RPPS ids in the database.</h2>
<code>GET /entries/all</code><br>
/!\ Careful - Heavy response.<br>
Using pagination is recommended.<br>

<h2>Getting a list of emails/adresses/...</h2>
<code>GET /entries?column=siret</code> will return a list of the 50 first SIRET numbers associated with the RPPS of their owner.<br>
<code>GET /entries?column=siret&page=1</code> will return a list of the next 50 SIRET numbers associated with the RPPS of their owner.<br>
<code>GET /entries/all?column=siret</code> will return a list of all SIRET numbers associated with the RPPS of their owner.<br>
Curently supported data columns are :<ul>
  <li><code>rpps_id</code></li>
  <li><code>first_name</code></li>
  <li><code>last_name</code></li>
  <li><code>email_address</code></li>
  <li><code>siret</code></li>
  <li><code>siren</code></li>
  <li><code>finess</code></li>
  <li><code>address</code> /!\ careful, will return a list of the JSON objects of address components for each address.</li>
</ul>
<strong>NB:</strong> The response is devoid of empty data.<br>
!-- <code>/entries?column=email_address [3]["email_adress"] <strong>!=</strong> /entries [3]["email_address"]</code> --!

<h2>Getting details on a specific pharmacist.</h2>
<code>GET /entries/[rpps_id]</code>
<ul>
  <li>Will return 404 if the RPPS is not in the database.</li>
  <li>Otherwise will return a hash with the following keys :
    <ul>
      <li>
        <code>rpps_id</code>
      </li>
      <li>
        <code>first_name</code>
      </li>
      <li>
        <code>last_name</code>
      </li>
      <li>
        <code>siret</code>
      </li>
      <li>
        <code>siret</code>
      </li>
      <li>
        <code>finess</code>
      </li>
      <li>
        <code>address</code> - which is a hash containing the following keys :
        <ul>
        <li>
          <code>number</code>
        </li>
        <li>
          <code>repeat</code> - ex: bis, ter, ..
        </li>
        <li>
          <code>street_type</code>
        </li>
        <li>
          <code>street_name</code>
        </li>
        <li>
          <code>distribution</code>
        </li>
        <li>
          <code>cedex</code>
        </li>
        <li>
          <code>zipcode</code>
        </li>
        <li>
          <code>city_name</code>
        </li>
        <li>
          <code>country_name</code>
        </li>
        <li>
          <code>phone_number</code>
        </li>
        <li>
          <code>email_address</code>
        </li>
      </ul>
      </li>
    </ul>
  </li>
</ul>
